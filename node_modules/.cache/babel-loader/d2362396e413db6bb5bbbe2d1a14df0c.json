{"remainingRequest":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/babel-loader/lib/index.js!/Users/air-jackson/Desktop/school_admin_front_end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/air-jackson/Desktop/school_admin_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/air-jackson/Desktop/school_admin_front_end/src/views/teacher/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/air-jackson/Desktop/school_admin_front_end/src/views/teacher/editor.vue","mtime":1578030955808},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/@babel/runtime-corejs2/helpers/objectSpread2\"));\n\nvar _vuex = require(\"vuex\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'TeacherEditor',\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['name'])),\n  data: function data() {\n    return {\n      schools: [],\n      academys: [],\n      options: [],\n      apiModel: 'teacher',\n      form: {}\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.$route.query._id) {\n      this.$http.post('/api/' + this.apiModel + '/get', {\n        _id: this.$route.query._id\n      }).then(function (res) {\n        if (res && res.length > 0) {\n          _this.form = res[0];\n\n          _this.schoolChange(_this.form.school);\n        }\n      });\n    } // 显示学校选择栏目\n\n\n    this.$http.post('/api/school/find').then(function (res) {\n      if (res && res.length > 0) {\n        _this.schools = res;\n        console.log('res:', res);\n      }\n    });\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      if (this.form._id) {\n        this.$http.post(\"/api/\".concat(this.apiModel, \"/update\"), this.form).then(function (res) {\n          console.log('bar:', res);\n\n          _this2.$router.push({\n            path: _this2.apiModel\n          });\n\n          _this2.form = {};\n        });\n      } else {\n        this.$http.post('/api/' + this.apiModel + '/add', this.form).then(function (res) {\n          console.log('bar:', res);\n\n          _this2.$router.push({\n            path: _this2.apiModel\n          });\n\n          _this2.form = {};\n        });\n      }\n    },\n    schoolChange: function schoolChange(val1) {\n      var _this3 = this;\n\n      // 显示学院选择栏目\n      this.$http.post('/api/academy/get', {\n        school: val1\n      }).then(function (res) {\n        if (res && res.length > 0) {\n          _this3.academys = res;\n          console.log('res:', res);\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}