{"remainingRequest":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/air-jackson/Desktop/school_admin_front_end/src/views/school/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/air-jackson/Desktop/school_admin_front_end/src/views/school/editor.vue","mtime":1578030955807},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/air-jackson/Desktop/school_admin_front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'School',\n  computed: {\n    ...mapGetters([\n      'name'\n    ])\n  },\n  data() {\n    return {\n      apiModel: 'school',\n      form: {}\n    }\n  },\n  mounted() {\n    if (this.$route.query._id) {\n      this.$http.post('/api/' + this.apiModel + '/get', { _id: this.$route.query._id }).then(res => {\n        if (res && res.length > 0) {\n          this.form = res[0]\n        }\n      })\n    }\n  },\n  methods: {\n    onSubmit() {\n      console.log('222:', 222)\n      if (this.form._id) {\n        this.$http.post(`/api/${this.apiModel}/update`, this.form).then(res => {\n          console.log('bar:', res)\n          this.$router.push({ path: this.apiModel })\n          this.form = {}\n        })\n      } else {\n        this.$http.post('/api/' + this.apiModel + '/add', this.form).then(res => {\n          console.log('bar:', res)\n          this.$router.push({ path: this.apiModel })\n          this.form = {}\n        })\n      }\n    }\n  }\n}\n",null]}